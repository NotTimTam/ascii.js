# InputManager

A class to handle user input for the game, including keyboard, mouse, and gamepad inputs.

---

## Constructor

```javascript
new InputManager(scene);
```

Creates a new InputManager instance associated with the given scene.

### Arguments

-   `scene` &mdash; `Object` The `Scene` instance associated with the input manager.

---

## Properties

### `rawGamepads`

Gets the raw gamepad data using `navigator.getGamepads()`.

### `gamepads`

Gets an array of `GamepadInterface` instances for connected gamepads.

### `gamepadsConnected`

Gets the number of connected gamepads.

### `types`

Gets the list of event types supported by the InputManager.

### `hasPointerLock`

Checks if the scene currently has pointer lock.

---

## Methods

### `requestPointerLock()`

Requests pointer lock for the renderer element. This method needs to be called in response to a user action like a click.

#### Returns

`Promise` that resolves when the pointer lock is successfully requested.

---

### `addEventListener(type, listener)`

Adds an event listener for a specific input event type.

#### Arguments

-   `type` &mdash; `String` The event type to listen for (e.g., `"mousemove"`).
-   `listener` &mdash; `Function` The event handler function.

---

### `removeEventListener(type, listener)`

Removes an event listener for a specific input event type.

#### Arguments

-   `type` &mdash; `String` The event type to stop listening for.
-   `listener` &mdash; `Function` The event handler function to remove.

---

### `watchObjectClick(gameObjectId, listener)`

Adds a listener for clicks on a `GameObject`.

#### Arguments

-   `gameObjectId` &mdash; `String` The ID of the `GameObject` to monitor for clicks.
-   `listener` &mdash; `Function` The event handler function for the click event.

---

### `unwatchObjectClick(gameObjectId, listener)`

Removes a listener for clicks on a `GameObject`.

#### Arguments

-   `gameObjectId` &mdash; `String` The ID of the `GameObject`.
-   `listener` &mdash; `Function` The event handler function to remove.

---

# GamepadInterface

A utility class for managing and normalizing gamepad input.

---

## Constructor

```javascript
new GamepadInterface(inputManager, index);
```

Creates a new GamepadInterface instance associated with a gamepad at a specific index. **These interfaces are automatically generated by the `InputManager`.**

### Arguments

-   `inputManager` &mdash; `Object` The `InputManager` instance to associate with the gamepad.
-   `index` &mdash; `Number` The index of the gamepad in `navigator.getGamepads()`.

---

## Methods

### `applyDeadzone(values, threshold)`

Applies a deadzone threshold to a set of axes inputs. A deadzone threshold of `0.1` is applied to "normalized" values, such as those found in the `normalized` and `axes` properties of the interface.

#### Arguments

-   `values` &mdash; `Object` A key-value object of axis input values.
-   `threshold` &mdash; `Number` _(optional)_ The deadzone threshold value. Default is `0.1`.

#### Returns

An object with adjusted axis values.

---

## Properties

### `normalized`

Gets the inputs in a normalized format for a standard gamepad layout. This method normalizes axes and buttons to make different controllers behave similarly.

### `asXB`

Gets the inputs for an Xbox controller layout.

### `asPS`

Gets the inputs for a PlayStation controller layout.

### `asNS`

Gets the inputs for a Nintendo Switch Pro controller layout.

### `axes`

Gets the axes data for the controller in a normalized format.

### `buttons`

Gets the button data for the controller in a normalized format.

### `raw`

Gets the raw gamepad data from the navigator for the associated index.

### `mapping`

Gets the controller mapping type.

### `id`

Gets the gamepad's ID string.

### `vibrationActuator`

Gets the vibration actuator for the controller, if available.

### `hapticActuators`

Gets the haptic actuators for the controller, if available.

### `hand`

Gets the hand associated with the controller (left or right), if available.
