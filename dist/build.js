function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(r)}var r,n,e=function(r){return r&&"object"===t(r)&&!(r instanceof Array)};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return a(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,f=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){f=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw o}}}}function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function u(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function f(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,l(e.key),e)}}function s(t,r,n){return r&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,r,n){return(r=l(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function l(t){var r=function(t){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(r)?r:r+""}var y=function(){return s((function t(r){if(u(this,t),!e(r))throw new TypeError("Expected a plain object for PixelMesh constructor config parameter.");var n=r.data,i=r.origin;if(!(n&&n instanceof Array))throw new TypeError('Expected an array for "PixelMesh" config.data property.');this.data=n,this.origin=i}),[{key:"origin",get:function(){return this.__rawOrigin},set:function(t){if(t){if(!(t instanceof Array))throw new SyntaxError('Invalid origin provided to "PixelMesh". Expected: [<xOffset>, <yOffset>]');if(!Number.isInteger(t[0])||!Number.isInteger(t[0]))throw new SyntaxError("PixelMesh origin must be an array of integers.")}this.__rawOrigin=t}},{key:"width",get:function(){var t,r=-1,n=o(this.data.filter((function(t){return t})));try{for(n.s();!(t=n.n()).done;){var e=t.value;e.length>r&&(r=e.length)}}catch(t){n.e(t)}finally{n.f()}return-1===r?void 0:r}},{key:"height",get:function(){return this.data.length}},{key:"pixels",get:function(){return this.data.flat().filter((function(t){return t}))}},{key:"setColor",value:function(t){var r,n=o(this.pixels);try{for(n.s();!(r=n.n()).done;)r.value.color=t}catch(t){n.e(t)}finally{n.f()}}},{key:"setFontWeight",value:function(t){var r,n=o(this.pixels);try{for(n.s();!(r=n.n()).done;)r.value.fontWeight=t}catch(t){n.e(t)}finally{n.f()}}},{key:"setBackgroundColor",value:function(t){var r,n=o(this.pixels);try{for(n.s();!(r=n.n()).done;)r.value.backgroundColor=t}catch(t){n.e(t)}finally{n.f()}}},{key:"setSolid",value:function(t){var r,n=o(this.pixels);try{for(n.s();!(r=n.n()).done;)r.value.solid=t}catch(t){n.e(t)}finally{n.f()}}}])}();r=y,c(y,"fromString",(function(t){return new r({data:t.split("\n").map((function(t){return t.split("").map((function(t){return t&&""!==t.trim()&&p.fromString(t)}))}))})}));var p=function(){return s((function t(r){if(u(this,t),!e(r))throw new TypeError("Expected a plain object for Pixel constructor config parameter.");var n=r.value,i=r.color,o=void 0===i?"#ffffff":i,a=r.fontWeight,f=void 0===a?"normal":a,s=r.backgroundColor,c=r.solid,l=void 0!==c&&c,y=r.origin;if("string"!=typeof n||1!==n.length)throw new Error("The value of this pixel can only be a 1-character long string.");if(y&&!(y instanceof Array))throw new Error('Invalid origin provided to "Pixel". Expected: [<xOffset>, <yOffset>]');this.value=n,this.color=o,this.fontWeight=f,this.backgroundColor=s,this.solid=l,this.origin=y}),[{key:"origin",get:function(){return this.__rawOrigin},set:function(t){if(t){if(!(t instanceof Array))throw new SyntaxError('Invalid origin provided to "Pixel". Expected: [<xOffset>, <yOffset>]');if(!Number.isInteger(t[0])||!Number.isInteger(t[0]))throw new SyntaxError("Pixel origin must be an array of integers.")}this.__rawOrigin=t}}])}();n=p,c(p,"fromString",(function(t){return new n({value:t})}));const b=p;var h;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,w(e.key),e)}}function g(t,r,n){return r&&d(t.prototype,r),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,r,n){return(r=w(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function w(t){var r=function(t){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(r)?r:r+""}var x=g((function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=r}));function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,P(e.key),e)}}function E(t,r,n){return(r=P(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function P(t){var r=function(t){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==S(r)?r:r+""}h=x,v(x,"fromString",(function(t){return new h(t.split("").map((function(t){return new b({value:t})})))})),v(x,"from2DArray",(function(t){return new h(t.flat())}));var j=function(){function t(r,n){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),this.index=n,this.inputManager=r}return r=t,(n=[{key:"normalized",get:function(){if(this.raw){var r=this.raw,n=r.axes,e=r.buttons;return"standard"===r.mapping?{axes:Object.fromEntries(n.filter((function(r,n){return t.standardAxesMap[n]})).map((function(r,n){return[t.standardAxesMap[n],r]}))),buttons:Object.fromEntries(e.filter((function(r,n){return t.standardButtonMap[n]})).map((function(r,n){return[t.standardButtonMap[n],r]})))}:this.asXB||this.asPS||this.asNS}}},{key:"asXB",get:function(){if(this.raw){var r=this.raw,n=r.axes,e=r.buttons;return{axes:Object.fromEntries(n.filter((function(r,n){return t.standardAxesMap[n]})).map((function(r,n){return[t.standardAxesMap[n],r]}))),buttons:Object.fromEntries(e.filter((function(r,n){return t.xbButtonMap[n]})).map((function(r,n){return[t.xbButtonMap[n],r]})))}}}},{key:"asPS",get:function(){if(this.raw){var r=this.raw,n=r.axes,e=r.buttons;return{axes:Object.fromEntries(n.filter((function(r,n){return t.standardAxesMap[n]})).map((function(r,n){return[t.standardAxesMap[n],r]}))),buttons:Object.fromEntries(e.filter((function(r,n){return t.psButtonMap[n]})).map((function(r,n){return[t.psButtonMap[n],r]})))}}}},{key:"asNS",get:function(){if(this.raw){var r=this.raw,n=r.axes,e=r.buttons;return{axes:Object.fromEntries(n.filter((function(r,n){return t.standardAxesMap[n]})).map((function(r,n){return[t.standardAxesMap[n],r]}))),buttons:Object.fromEntries(e.filter((function(r,n){return t.nsButtonMap[n]})).map((function(r,n){return[t.nsButtonMap[n],r]})))}}}},{key:"axes",get:function(){return this.normalized&&this.normalized.axes}},{key:"buttons",get:function(){return this.normalized&&this.normalized.buttons}},{key:"raw",get:function(){return this.inputManager.rawGamepads[this.index]}},{key:"mapping",get:function(){if(this.raw)return"standard"===this.raw.mapping?"standard":"unknown"}},{key:"id",get:function(){return this.raw&&this.raw.id}},{key:"vibrationActuator",get:function(){return this.raw&&this.raw.vibrationActuator}},{key:"hapticActuators",get:function(){return this.raw&&this.raw.hapticActuators}},{key:"hand",get:function(){return this.raw&&this.raw.hand}}])&&k(r.prototype,n),e&&k(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,e}();E(j,"xbButtonMap",["a","b","x","y","leftBumper","rightBumper","leftTrigger","rightTrigger","select","start","leftStickPress","rightStickPress","up","down","left","right"]),E(j,"psButtonMap",["x","o","square","triangle","l1","r1","l2","r2","share","options","l3","r3","up","down","left","right"]),E(j,"nsButtonMap",["b","a","y","x","leftBumper","rightBumper","leftTrigger","rightTrigger","-","+","leftStickPress","rightStickPress","up","down","left","right"]),E(j,"standardButtonMap",["a","b","x","y","l1","r1","l2","r2","select","start","l3","r3","up","down","left","right"]),E(j,"standardAxesMap",["lh","lv","rh","rv"]);